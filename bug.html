<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Buzy Bug</title>
    <script src="jquery.js"></script>
    <script src="bug.js"></script>
    <style>
        #bug {
            background-color: gray;
            position: fixed;
            background-image: url('ball.jpg');
            height: 46px;
            width: 46px;
        }

        .redb {
            border: 1px dashed red;
        }

        #container {
            width: 100%;
            height: 1000px;
        }
    </style>
</head>
<body >
    <div style="margin: 5px;">
        <input type="range" id="offset" min="0.1" max="100" step="0.5" value="1.5" style="width:300px;" />
        <br />
        <label>x</label><input id="x" value="100" type="number" />
        <br />
        <label>y</label><input id="y" value="100" type="number" />
        <input type="button" value="move" onclick="startMoving(this); return false;" />
        <input type="button" value="stop" onclick="stopMoving(this); return false;" />
    </div>
    <div id="container" style="border:1px solid black;" onclick="moveToCoord();">
        <div id="bug"></div>
    </div>
    <script type="text/javascript">
        function getOffset() {
            var offset = document.getElementById('offset').value;
            return parseFloat(offset.toString());
        }
    </script>
    <script type="text/javascript">
        var theBug = new Bug("bug", getOffset);
        function startMoving() {
            moveToCoord();
        }
        function moveToCoord() {
            var e = window.event;
            var x = e.clientX;
            var y = e.clientY;
            console.log("%s: x:%d y:%d", "showCoord()", x, y);
            if (1) {
                document.getElementById("x").value = x;
                document.getElementById("y").value = y;
            }
            /*if (theBug.isMoving()) {
                console.log("bug is still moving");
            } else {
                theBug.startMoving(x, y);
            }*/
            theBug.resumeMoving();
            theBug.moveRandomly();
        }
        function stopMoving() {
            if (theBug.isMoving()) {
                theBug.stopMoving();
            }
        }
    </script>
</body>

</html>
